let pokemonRepository=function(){ let e=[],t=document.querySelector("#modal-container");function n(){t.classList.remove("show"),t.style.display="none"}function o(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("pokemon is not correct")}function i(){return e}function r(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}function l(e){console.log("Selected Pokemon",e),r(e).then(function(){var n;let o,i,r,l;n=e,o=document.getElementById("modalTitle"),i=document.getElementById("modalBody"),o.innerText=n.name,i.innerHTML="",(r=document.createElement("p")).innerHTML="Height:"+n.height,(l=document.createElement("img")).setAttribute("src",n.imageUrl),l.setAttribute("alt","Pokemon Image"),l.classList.add("img-fluid"),i.appendChild(r),i.appendChild(l),t.classList.add("show"),t.style.display="block"})}return document.querySelector(".modal-close").addEventListener("click",n),window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("show")&&n()}),{add:o,getAll:i,addListItem:function e(t){var n=document.getElementById("pokemon-container"),o=document.createElement("button");o.classList.add("btn","btn-primary","list-group-item"),o.setAttribute="modal",o.setAttribute="#modal-container",o.innerText=t.name,o.addEventListener("click",function(){l(t)}),n.appendChild(o)},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?offset=80&limit=80").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url,height:e.height})})}).catch(function(e){console.error(e)})},loadDetails:r,showDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});